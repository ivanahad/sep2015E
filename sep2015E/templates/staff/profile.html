{% extends 'staff_template.html' %}

{% block content %}
<div class="row">
  <div class="box">
    <div class="col-lg-12">
      <hr>
      <h2 class="intro-text text-center">
        <strong>Mon profile</strong>
      </h2>
      <hr>
      <div class="panel-body">
        <div class="row">

          <div class="col-md-6">
            <div class="panel panel-default">
              <div class="panel-heading">Editer mes informations</div>
              <div class="panel-body">

                <form action='{% url "staff.views.edit_profile" %}' method="post">
                  {% csrf_token %}
                  <div class="panel-body">

                    {{form.non_field_errors }}
                    {{form_user.non_field_errors }}
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Pseudo:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form_user.username }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form_user.username.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Prénom:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form_user.first_name }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form_user.first_name.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Nom:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form_user.last_name }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form_user.last_name.errors }}
                      </div>
                    </div>
                    <!-- <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Email:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form_user.email }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form_user.email.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Mot de passe:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form_user.password }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form_user.password.errors }}
                      </div>
                    </div> -->
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Addresse:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.address }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.address.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Ville:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.city }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.city.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Code postal:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.zipcode }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.zipcode.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Pays:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.country }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.country.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Ville:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.city }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.city.errors }}
                      </div>
                    </div>
                    <div class="row field">
                      <div class="col-sm-4">
                        <label for="id_firstname">Téléphone:</label>
                      </div>
                      <div class="col-sm-4">
                        {{ form.phone }}
                      </div>
                      <div class="col-sm-4 required">
                        {{ form.phone.errors }}
                      </div>
                    </div>

                  </div>
                  <input type="submit" value="Enregistrer" />
                </form>

              </div>
            </div>
        </div>

        <div class="col-md-6">
          <div class="panel panel-default">
            <div class="panel-heading">Autres membres du staff</div>
            <div class="panel-body">

              <table class="table">
                {% for staff in staffs %}
                <tr>
                  <td>{{ staff.user.username }} {{ staff.user.lastname }}</td>
                  <td>{{ staff.user.email }}</td>
                  <td>{{ staff.phone }}</td>
                </tr>
                {% endfor %}
              </table>
            </div>
          </div>
      </div>
    </div>

  </div>
</div>

</div>
</div>

{% endblock %}
